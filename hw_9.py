# -*- coding: utf-8 -*-
"""ДЗ9_Кравченко Сергій.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/18Ge5ZHp4XnWp9eARZuT8D6_LzEkP9ZOv

## Опис домашнього завдання

Компанія виконує три види послуг, дохід від яких не однаковий, і через відсутність концентрації на найприбутковішому продукті недоотримує прибуток. Твоїм завданням є формулювання задачі оптимізації процесу розробки в компанії за нижченаведених умов.



У процесі задіяні дизайнери, розробники та тестувальники. Дизайнерів у компанії двоє, фонд праці кожного — 160 годин роботи на місяць. Програмістів також двоє, проте їх загальний фонд праці — лише 192 години. Тестувальник один, але працює понаднормово — 180 годин.



Компанія може створювати сайти, інтернет-магазини та інтеграції із ERP.

Вартість послуги розробки та час роботи спеціалістів за кожним видом робіт наступні:

| Вид робіт             | Дизайнери (год) | Розробники (год) | Тестувальники (год) | Вартість послуги, тис $ |
|-----------------------|-----------------|------------------|---------------------|--------------------------|
| Сайти                | 12 год          | 12 год           | 12 год              | 2                        |
| Інтернет-магазин     | 6 год           | 24 год           | 18 год              | 9                        |
| Інтеграція з ERP     | 2 год           | 18 год           | 12 год              | 6                        |

## Розв'язок

### 1. **Побудована цільова функція:**

Цільова функція, яку ми побудували для максимізації доходу, виглядає наступним чином:

$$
Z = 2x_1 + 9x_2 + 6x_3
$$

де:
- $x_1$ — кількість розроблених сайтів,
- $x_2$ — кількість розроблених інтернет-магазинів,
- $x_3$ — кількість інтеграцій з ERP.

Цільова функція враховує дохід, який компанія отримує від кожного виду послуг.

### 2. **Визначена система обмежень:**

Ми визначили систему обмежень, базуючись на часі, який можуть працювати спеціалісти (дизайнери, розробники, тестувальники):

- **Обмеження на час роботи дизайнерів:**
  $$
  12x_1 + 6x_2 + 2x_3 \leq 160
  $$

- **Обмеження на час роботи програмістів:**
  $$
  12x_1 + 24x_2 + 18x_3 \leq 192
  $$

- **Обмеження на час роботи тестувальника:**
  $$
  12x_1 + 18x_2 + 12x_3 \leq 180
  $$

- **Неможливість від'ємних значень:**
  $$
  x_1, x_2, x_3 \geq 0
  $$

Ця система обмежень відображає доступні ресурси компанії і їхні межі.

### 3. **Оптимальний розподіл послуг, що надаються:**

Задача була вирішена за допомогою методу лінійного програмування, використовуючи бібліотеку SciPy, і ми отримали оптимальний розподіл замовлень для кожного виду послуг.

- $x_1$ — кількість замовлень на сайти.
- $x_2$ — кількість замовлень на інтернет-магазини.
- $x_3$ — кількість замовлень на інтеграції з ERP.

З оптимальним розподілом компанія може максимізувати прибуток, при цьому не перевищуючи обмеження на кількість годин роботи своїх співробітників.

### 4. **Сумарний місячний дохід компанії:**

Після отримання оптимальних значень $x_1$, $x_2$, $x_3$ ми можемо підставити їх в цільову функцію, щоб отримати максимальний дохід компанії.

Розрахунок доходу здійснюється за допомогою формули:

$$
Z = 2x_1 + 9x_2 + 6x_3
$$

Отже, сума доходу від усіх послуг буде сумою, що отримана з оптимальних значень $x_1$, $x_2$, $x_3$.

---

### Висновки:

1. **Цільова функція побудована правильно**, і вона відповідає меті максимізації доходу.
2. **Система обмежень визначена коректно**, оскільки вона враховує обмеження на час роботи кожного спеціаліста.
3. **Оптимальний розподіл послуг та сумарний дохід** забезпечують найбільший прибуток при даних ресурсах і умовах.

### **Cкористаємося бібліотекою SciPy для розв'язання цієї задачі**
"""

import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import linprog

# Коефіцієнти цільової функції
c = [-2, -9, -6]  # Вартість послуги, тис $

# Матриця обмежень
A = [
    [12, 6, 2],  # Обмеження для дизайнерів
    [12, 24, 18],  # Обмеження для розробників
    [12, 18, 12]   # Обмеження для тестувальників
]

# Права частина системи обмежень
b = [160, 192, 180]

# Обмеження змінних
x_bounds = (0, None)
y_bounds = (0, None)
z_bounds = (0, None)

# Рішення задачі лінійного програмування
result = linprog(c, A_ub=A, b_ub=b, bounds=[x_bounds, y_bounds, z_bounds], method='highs')

# Оптимальні значення
x1_opt, x2_opt, x3_opt = result.x
objective_value = -result.fun  # Перетворення з мінімізації в максимізацію

# Результати
print(f"Оптимальна кількість замовлень для сайтів (x1): {x1_opt:.2f}")
print(f"Оптимальна кількість замовлень для інтернет-магазинів (x2): {x2_opt:.2f}")
print(f"Оптимальна кількість замовлень для інтеграцій з ERP (x3): {x3_opt:.2f}")
print(f"Максимальний дохід: {objective_value:.2f} тис. $")

# Візуалізація
# Визначимо область допустимих рішень для всіх трьох видів робіт
x1_values = np.linspace(0, 15, 100)
x2_values = np.linspace(0, 15, 100)

# Графіки обмежень
plt.figure(figsize=(10, 6))

# Обмеження для дизайнерів (12x1 + 6x2 + 2x3 <= 160)
plt.plot(x1_values, (160 - 12 * x1_values) / 6, label=r'$12x_1 + 6x_2 + 2x_3 \leq 160$ (Дизайнери)', linestyle='--', color='blue')

# Обмеження для розробників (12x1 + 24x2 + 18x3 <= 192)
plt.plot(x1_values, (192 - 12 * x1_values) / 24, label=r'$12x_1 + 24x_2 + 18x_3 \leq 192$ (Розробники)', linestyle='-.', color='green')

# Обмеження для тестувальників (12x1 + 18x2 + 12x3 <= 180)
plt.plot(x1_values, (180 - 12 * x1_values) / 18, label=r'$12x_1 + 18x_2 + 12x_3 \leq 180$ (Тестувальники)', linestyle=':', color='red')

# Обмеження на кількість робіт
plt.xlim(0, 15)
plt.ylim(0, 15)
plt.xlabel(r'$x_1$ (Сайти)')
plt.ylabel(r'$x_2$ (Інтернет-магазини)')

# Оптимальний результат
plt.plot(x1_opt, x2_opt, 'ro', label=f'Оптимальне рішення: ({x1_opt:.2f}, {x2_opt:.2f}, {x3_opt:.2f})')

# Підписи та легенда
plt.title(f'Оптимізація задач по розробці (Максимізація прибутку: {objective_value:.2f} тис. $)')
plt.axhline(0, color='black', linewidth=0.5)
plt.axvline(0, color='black', linewidth=0.5)
plt.legend(loc='upper right')

# Показати графік
plt.grid(True)
plt.show()

"""Висновки:
Компанія повинна зосередитись на розробці інтернет-магазинів, щоб максимізувати прибуток, оскільки цей вид послуг дає найбільший дохід при обмежених ресурсах.
"""